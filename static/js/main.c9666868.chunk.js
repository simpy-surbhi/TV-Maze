(this["webpackJsonptv-maze"]=this["webpackJsonptv-maze"]||[]).push([[0],{121:function(e,t,a){"use strict";a.r(t);var n=a(0),i=a.n(n),s=a(16),c=a.n(s),r=(a(93),a(141)),l=a(9),o=a(143),d=a(144),j=a(39),b=a(166),m=a(145);const u=Object(r.a)((e=>({appBar:{backgroundColor:"transparent",transform:"unset",zIndex:1},toolBar:{[e.breakpoints.up("lg")]:{padding:e.spacing(0,8.8)}},title:{flexGrow:1,color:e.palette.text.primary},button:{textTransform:"none",padding:0}})));var g=a(76),x=a.n(g),h=a(30),p=a(2);const v=e=>{let{toggleDarkTheme:t}=e;const a=u();return Object(p.jsx)(n.Fragment,{children:Object(p.jsx)(o.a,{position:"static",className:a.appBar,children:Object(p.jsxs)(d.a,{className:a.toolBar,children:[Object(p.jsx)(j.a,{variant:"h6",className:a.title,component:h.b,to:"/",children:Object(p.jsx)(b.a,{variant:"rounded",alt:"The image",src:"https://static.tvmaze.com/images/tvm-header-logo.png",style:{width:200}})}),Object(p.jsx)(m.a,{className:a.button,startIcon:Object(p.jsx)(x.a,{}),onClick:t,children:"Dark Mode"})]})})})},O=Object(r.a)((e=>({ratingText:{display:"flex",alignItems:"center"}})));var f=a(168);const y=e=>{let{ratingValue:t}=e;const a=O();return Object(p.jsx)(n.Fragment,{children:Object(p.jsxs)("div",{className:a.ratingText,children:[Object(p.jsx)(f.a,{defaultValue:1,precision:1,max:1,readOnly:!0,size:"large"}),Object(p.jsxs)(j.a,{variant:"h6",children:[t," "]}),Object(p.jsx)(j.a,{variant:"subtitle2",children:"/10"})]})})},w=Object(r.a)((e=>({avatarItem:{display:"flex",alignItems:"center",gap:e.spacing(2),margin:e.spacing(2,0)},large:{width:e.spacing(10),height:e.spacing(10)}}))),T=e=>{let{primaryText:t,secondaryText:a,image:i}=e;const s=w();return Object(p.jsx)(n.Fragment,{children:Object(p.jsxs)("div",{className:s.avatarItem,children:[Object(p.jsx)(b.a,{src:i,className:s.large}),Object(p.jsxs)("div",{children:[Object(p.jsx)(j.a,{variant:"subtitle2",children:Object(p.jsx)("strong",{children:t})}),Object(p.jsx)(j.a,{variant:"subtitle2",children:a})]})]})})};var S=a(146),N=a(147),I=a(148);const C=Object(r.a)((e=>({root:{width:230},detailsText:{display:"flex",alignItems:"center",gap:e.spacing(1)},rating:{fontSize:"14px"},cardHeader:{paddingBottom:0},cardContent:{paddingTop:e.spacing(1)}}))),k=e=>{let{data:t,title:a,ratingValue:i}=e;const s=C();return Object(p.jsx)(n.Fragment,{children:Object(p.jsxs)(S.a,{className:s.root,children:[Object(p.jsx)(N.a,{title:a,className:s.cardHeader}),Object(p.jsxs)(I.a,{className:s.cardContent,children:[Object.keys(t).map(((e,a)=>Object(p.jsx)(j.a,{variant:"caption",children:Object(p.jsxs)("div",{className:s.detailsText,children:[Object(p.jsx)("b",{children:"".concat(e,": ")}),t[e]]})},a))),Object(p.jsx)(j.a,{variant:"caption",component:"span",children:Object(p.jsxs)("div",{className:s.detailsText,children:[Object(p.jsx)("b",{children:"Rating: "}),Object(p.jsx)(f.a,{defaultValue:parseFloat(null!==i&&void 0!==i?i:0),precision:.1,max:10,readOnly:!0,className:s.rating,size:"small"})]})})]})]})})};var _=a(155),E=a(149),R=a(150),D=a(156),A=a(163),F=a(157),B=a(167);const L=Object(r.a)((e=>({body:{padding:e.spacing(0,4,4,4),[e.breakpoints.up("lg")]:{padding:e.spacing(0,8,8,8)}},link:{textDecoration:"none","&:hover":{color:e.palette.text.secondary}},root:{width:230},rootIcon:{width:230},errorTitle:{fontWeight:"bold",marginTop:e.spacing(5)},pageTitle:{display:"flex",justifyContent:"space-between",padding:e.spacing(2,0)},genres:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}},episodeItemHeader:{display:"flex",justifyContent:"space-between"},episodeItemGridContainer:{padding:e.spacing(2,0)},episodeItemHeaderSpace:{paddingLeft:e.spacing(2)},episodeItemText:{overflow:"hidden",textOverflow:"ellipsis",display:"-webkit-box",WebkitBoxOrient:"vertical",WebkitLineClamp:5},castInfoContainer:{paddingTop:e.spacing(10)},showSeasonEpisodesTab:{marginBottom:e.spacing(2)},imageRoot:{display:"flex",flexWrap:"wrap",justifyContent:"space-around",overflow:"hidden",backgroundColor:e.palette.background.paper},imageList:{flexWrap:"nowrap"}})));var P=a(77),H=a.n(P);const M={API_BASE_URL:Object({NODE_ENV:"production",PUBLIC_URL:"/TV-Maze",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_API_BASE_URL||"https://api.tvmaze.com"};const z=new class{constructor(){this.api=void 0,this.api=H.a.create()}async get(e,t){await this.setHeaders("GET");const a="".concat(e).concat(function(e){if(!e)return new URLSearchParams;const t=Object.entries(e).reduce(((e,t)=>{let[a,n]=t;return"undefined"!==typeof n&&null!==n&&e.append(a,String(n)),e}),new URLSearchParams);return t.toString().length>0?"?".concat(t):""}(t)),n=await this.api.get("".concat(M.API_BASE_URL).concat(a));return this.getResponse(n)}getResponse(e){if(200!==e.status)throw new Error(e.statusText);return e.data}async setHeaders(e){const t={};["GET"].includes(e)&&(t.Accept="application/json"),this.api.defaults.headers=t}};function W(e,t){const[a,i]=n.useState(),[s,c]=n.useState(!0),r=n.useCallback((async function(){try{c(!0);const a=await z.get(e,t);if(!a)return;i(a)}catch(a){}finally{c(!1)}}),[e,t]);return n.useEffect((()=>{r()}),[r]),[{data:a,loading:s,refetch:r}]}var V=a(79),G=a.n(V),U=a(80),K=a.n(U),J=a(162),Y=a(152),q=a(164),Q=a(151);const X="eeee, d MMMM yyyy",Z="d MMMM yyyy";var $=a(161);function ee(e){return Object($.a)(new Date(e),X)}function te(e){return new Date(e).getFullYear()}const ae=e=>{let{episode:t}=e;const a=L();return Object(p.jsxs)(n.Fragment,{children:[Object(p.jsxs)(E.a,{container:!0,justifyContent:"space-between",className:a.episodeItemGridContainer,children:[Object(p.jsx)(E.a,{item:!0,lg:3,md:3,xs:12,children:Object(p.jsx)(S.a,{children:Object(p.jsx)(h.b,{to:"/episodes/".concat(t.id),children:Object(p.jsx)(R.a,{image:null===t||void 0===t?void 0:t.image.medium,title:null===t||void 0===t?void 0:t.name,component:"img"})})})}),Object(p.jsxs)(E.a,{item:!0,lg:9,md:9,xs:12,className:a.episodeItemHeaderSpace,children:[Object(p.jsxs)("div",{className:a.episodeItemHeader,children:[Object(p.jsx)(j.a,{className:a.link,color:"textPrimary",variant:"subtitle1",component:h.b,to:"/episodes/".concat(t.id),children:Object(p.jsx)("strong",{children:"S".concat(t.season,".E").concat(t.number," \u2219 ").concat(t.name)})}),Object(p.jsx)(j.a,{variant:"subtitle2",children:ee(t.airdate)})]}),Object(p.jsx)(j.a,{variant:"subtitle2",className:a.episodeItemText,dangerouslySetInnerHTML:{__html:t.summary}}),t.rating.average&&Object(p.jsx)(y,{ratingValue:t.rating.average})]})]}),Object(p.jsx)(Q.a,{})]})},ne=()=>{const e=L(),{showId:t}=Object(l.g)(),[a,s]=i.a.useState(),[c,r]=i.a.useState(),[{data:o}]=W("/shows/".concat(t,"/seasons")),d=Object(n.useCallback)((async()=>{const e=await z.get("/seasons/".concat(a,"/episodes"));r(e)}),[a]);return i.a.useEffect((()=>{null!==o&&void 0!==o&&o.length&&s(o[0].id)}),[o]),i.a.useEffect((()=>{a&&d()}),[a,d]),Object(p.jsxs)(i.a.Fragment,{children:[Object(p.jsx)(J.a,{value:0,indicatorColor:"primary",className:e.showSeasonEpisodesTab,children:Object(p.jsx)(Y.a,{label:"Seasons"})}),Object(p.jsx)(q.a,{count:null===o||void 0===o?void 0:o.length,size:"large",hidePrevButton:!0,hideNextButton:!0,onChange:(e,t)=>{const a=null===o||void 0===o?void 0:o.find((e=>e.number===t));a&&s(a.id)}}),null===c||void 0===c?void 0:c.map(((e,t)=>Object(p.jsx)(ae,{episode:e},t)))]})},ie=()=>{const e=L(),{showId:t}=Object(l.g)(),[{data:a}]=W("/shows/".concat(t,"/cast"));return Object(p.jsx)(i.a.Fragment,{children:Object(p.jsxs)("div",{className:e.castInfoContainer,children:[Object(p.jsx)(j.a,{variant:"h4",children:"TOP CAST"}),Object(p.jsx)(E.a,{container:!0,justifyContent:"space-between",children:null===a||void 0===a?void 0:a.map(((e,t)=>Object(p.jsx)(E.a,{item:!0,lg:12,md:12,xs:12,children:Object(p.jsx)(T,{primaryText:e.person.name,secondaryText:" as ".concat(e.character.name),image:e.person.image.original})},t)))})]})})};var se=a(153),ce=a(154);const re=()=>{const e=L(),{showId:t}=Object(l.g)(),[{data:a}]=W("/shows/".concat(t,"/images"));return Object(p.jsx)(i.a.Fragment,{children:Object(p.jsx)("div",{className:e.imageRoot,children:Object(p.jsx)(se.a,{className:e.imageList,cols:2.5,children:null===a||void 0===a?void 0:a.map((e=>Object(p.jsx)(ce.a,{children:Object(p.jsx)("img",{src:e.resolutions.original.url,alt:e.type})},e.id)))})})})},le=()=>{var e,t;const a=L(),{showId:s}=Object(l.g)(),[c,r]=i.a.useState(),[{data:o,loading:d}]=W("/shows/".concat(s)),b=null!==o&&void 0!==o&&o.premiered?"".concat(te(null===o||void 0===o?void 0:o.premiered)," - ").concat(te(null!==(e=null===o||void 0===o?void 0:o.ended)&&void 0!==e?e:"")):"",m=Object(n.useCallback)((()=>{var e,t,a,n,i;const s={Network:null!==(e=null===o||void 0===o||null===(t=o.network)||void 0===t?void 0:t.name)&&void 0!==e?e:"",Schedule:null!==(a=null===o||void 0===o?void 0:o.schedule.days[0])&&void 0!==a?a:"",Status:null!==(n=null===o||void 0===o?void 0:o.status)&&void 0!==n?n:"","Show type":null!==(i=null===o||void 0===o?void 0:o.type)&&void 0!==i?i:"",Runtime:null!==o&&void 0!==o&&o.runtime?"".concat(null===o||void 0===o?void 0:o.runtime," minutes"):""};r(s)}),[o]);return i.a.useEffect((()=>{o&&m()}),[m,o]),Object(p.jsx)(i.a.Fragment,{children:Object(p.jsxs)("div",{className:a.body,"data-testid":"show-container",children:[d&&Object(p.jsx)(_.a,{}),!o&&!d&&Object(p.jsx)(j.a,{variant:"h4",className:a.errorTitle,color:"error",children:"No show found"}),o&&Object(p.jsxs)("div",{children:[Object(p.jsxs)("div",{className:a.pageTitle,children:[Object(p.jsxs)("div",{children:[Object(p.jsx)(j.a,{variant:"h3",children:o.name}),Object(p.jsx)(j.a,{variant:"caption",children:b})]}),Object(p.jsxs)("div",{children:[Object(p.jsx)(j.a,{variant:"subtitle2",children:"RATING"}),Object(p.jsx)(y,{ratingValue:o.rating.average})]})]}),Object(p.jsxs)(E.a,{container:!0,justifyContent:"space-between",children:[Object(p.jsxs)(E.a,{item:!0,lg:2,md:3,xs:12,children:[Object(p.jsx)(S.a,{className:a.root,children:Object(p.jsx)(R.a,{image:null===o||void 0===o?void 0:o.image.original,title:null===o||void 0===o?void 0:o.name,component:"img"})}),Object(p.jsxs)(D.a,{disableSpacing:!0,children:[Object(p.jsx)(A.a,{title:"Add to favorites",children:Object(p.jsx)(F.a,{children:Object(p.jsx)(G.a,{})})}),Object(p.jsx)(A.a,{title:"Share",children:Object(p.jsx)(F.a,{children:Object(p.jsx)(K.a,{})})})]}),Object(p.jsx)("div",{className:a.genres,children:null===o||void 0===o||null===(t=o.genres)||void 0===t?void 0:t.map(((e,t)=>Object(p.jsx)(B.a,{variant:"outlined",label:e,size:"small"},t)))})]}),Object(p.jsxs)(E.a,{item:!0,lg:7,md:5,xs:12,children:[Object(p.jsx)(j.a,{variant:"h6",dangerouslySetInnerHTML:{__html:o.summary}}),Object(p.jsx)(re,{})]}),Object(p.jsx)(E.a,{item:!0,lg:2,md:3,xs:12,children:c&&Object(p.jsx)(k,{title:"Show info",data:c,ratingValue:o.rating.average})})]}),Object(p.jsxs)(E.a,{container:!0,justifyContent:"space-between",children:[Object(p.jsx)(E.a,{item:!0,lg:8,md:8,xs:12,children:Object(p.jsx)(ne,{})}),Object(p.jsx)(E.a,{item:!0,lg:2,md:3,xs:12,children:Object(p.jsx)(ie,{})})]})]})]})})};var oe=a(165),de=a(158);const je=Object(r.a)((e=>({body:{padding:e.spacing(0,4,4,4),[e.breakpoints.up("lg")]:{padding:e.spacing(0,8,8,8)}},link:{textDecoration:"none",display:"flex",padding:e.spacing(2,0)},root:{width:230},errorTitle:{fontWeight:"bold",marginTop:e.spacing(5)},pageTitle:{display:"flex",justifyContent:"space-between"},pageSubtitle:{paddingBottom:e.spacing(2)},genres:{display:"flex",flexWrap:"wrap","& > *":{margin:e.spacing(.5)}},castInfoContainer:{paddingTop:e.spacing(5)}})));var be=a(81),me=a.n(be);const ue=()=>{var e,t,a,n,s,c,r,o;const d=je(),{episodeId:b}=Object(l.g)(),[{data:m}]=W("/episodes/".concat(b,"?embed[]=guestcast&embed[]=guestcrew"));return Object(p.jsxs)(i.a.Fragment,{children:[!(null===m||void 0===m||null===(e=m._embedded)||void 0===e||null===(t=e.guestcast)||void 0===t||!t.length)&&Object(p.jsxs)("div",{className:d.castInfoContainer,children:[Object(p.jsx)(j.a,{variant:"h4",children:"TOP CAST"}),Object(p.jsx)(E.a,{container:!0,children:null===m||void 0===m||null===(a=m._embedded)||void 0===a||null===(n=a.guestcast)||void 0===n?void 0:n.map(((e,t)=>{var a,n;return Object(p.jsx)(E.a,{item:!0,lg:3,md:6,xs:12,children:Object(p.jsx)(T,{primaryText:e.person.name,secondaryText:" as ".concat(e.character.name),image:null!==(a=null===(n=e.person.image)||void 0===n?void 0:n.original)&&void 0!==a?a:""})},t)}))})]}),(null===m||void 0===m||null===(s=m._embedded)||void 0===s||null===(c=s.guestcrew)||void 0===c?void 0:c.length)&&Object(p.jsxs)("div",{className:d.castInfoContainer,children:[Object(p.jsx)(j.a,{variant:"h4",children:"TOP CREW"}),Object(p.jsx)(E.a,{container:!0,children:null===m||void 0===m||null===(r=m._embedded)||void 0===r||null===(o=r.guestcrew)||void 0===o?void 0:o.map(((e,t)=>{var a,n;return Object(p.jsx)(E.a,{item:!0,lg:3,md:6,xs:12,children:Object(p.jsx)(T,{primaryText:e.person.name,secondaryText:e.guestCrewType,image:null!==(a=null===(n=e.person.image)||void 0===n?void 0:n.original)&&void 0!==a?a:""})},t)}))})]})]})},ge=()=>{var e,t,a,s,c,r,o;const d=je(),{episodeId:b}=Object(l.g)(),[{data:m,loading:u}]=W("/episodes/".concat(b,"?embed=show")),[g,x]=i.a.useState(),h=Object(n.useCallback)((()=>{const e={Number:"Season ".concat(null===m||void 0===m?void 0:m.season,", Episode ").concat(null===m||void 0===m?void 0:m.number),"Air date":null!==m&&void 0!==m&&m.airdate?(t=null===m||void 0===m?void 0:m.airdate,Object($.a)(new Date(t),Z)):"",Runtime:null!==m&&void 0!==m&&m.runtime?"".concat(null===m||void 0===m?void 0:m.runtime," minutes"):""};var t;x(e)}),[m]);return i.a.useEffect((()=>{m&&h()}),[m,h]),Object(p.jsx)(i.a.Fragment,{children:Object(p.jsxs)("div",{className:d.body,"data-testid":"episode-container",children:[u&&Object(p.jsx)(_.a,{}),!m&&!u&&Object(p.jsx)(j.a,{variant:"h4",className:d.errorTitle,color:"error",children:"No episode found"}),m&&Object(p.jsxs)("div",{children:[Object(p.jsx)(oe.a,{"aria-label":"breadcrumb",children:Object(p.jsxs)(de.a,{color:"inherit",href:"/shows/".concat(null===(e=m._embedded)||void 0===e||null===(t=e.show)||void 0===t?void 0:t.id),className:d.link,children:[Object(p.jsx)(me.a,{}),null===(a=m._embedded)||void 0===a||null===(s=a.show)||void 0===s?void 0:s.name]})}),Object(p.jsxs)("div",{className:d.pageTitle,children:[Object(p.jsxs)("div",{className:d.pageSubtitle,children:[Object(p.jsx)(j.a,{variant:"h3",children:null===m||void 0===m?void 0:m.name}),Object(p.jsx)(j.a,{variant:"caption",children:Object(p.jsx)("strong",{children:"S".concat(null===m||void 0===m?void 0:m.season,".E").concat(null===m||void 0===m?void 0:m.number," ")})}),Object(p.jsx)(j.a,{variant:"caption",children:"Episode aired on ".concat(ee(null===m||void 0===m?void 0:m.airdate))})]}),(null===m||void 0===m?void 0:m.rating.average)&&Object(p.jsxs)("div",{children:[Object(p.jsx)(j.a,{variant:"subtitle2",children:"RATING"}),Object(p.jsx)(y,{ratingValue:null===m||void 0===m?void 0:m.rating.average})]})]}),Object(p.jsxs)(E.a,{container:!0,justifyContent:"space-between",children:[Object(p.jsx)(E.a,{item:!0,lg:2,md:3,xs:12,children:Object(p.jsx)(S.a,{className:d.root,children:Object(p.jsx)(R.a,{image:null===m||void 0===m?void 0:m.image.original,title:null===m||void 0===m?void 0:m.name,component:"img"})})}),Object(p.jsxs)(E.a,{item:!0,lg:7,md:5,xs:12,children:[Object(p.jsx)("div",{className:d.genres,children:null===(c=m._embedded)||void 0===c||null===(r=c.show)||void 0===r||null===(o=r.genres)||void 0===o?void 0:o.map(((e,t)=>Object(p.jsx)(B.a,{variant:"outlined",label:e,size:"small"},t)))}),Object(p.jsx)(j.a,{variant:"h6",dangerouslySetInnerHTML:{__html:m.summary}})]}),Object(p.jsx)(E.a,{item:!0,lg:2,md:3,xs:12,children:g&&Object(p.jsx)(k,{title:"Episode info",data:g,ratingValue:m.rating.average})})]}),Object(p.jsx)(ue,{})]})]})})};const xe=Object(r.a)((e=>({main:{height:"100%"}}))),he=e=>{let{toggleDarkTheme:t}=e;const a=xe(),i=[{path:"/home",component:le},{path:"/shows/:showId",component:le},{path:"/episodes/:episodeId",component:ge}];return Object(p.jsxs)(n.Fragment,{children:[Object(p.jsx)(v,{toggleDarkTheme:t}),Object(p.jsx)("main",{className:a.main,style:{marginLeft:0},children:i&&Object(p.jsxs)(l.d,{children:[i.map(((e,t)=>{let{component:a,render:i,...s}=e;return Object(n.createElement)(l.b,{...s,key:t.toString(),render:e=>Object(p.jsx)(n.Fragment,{children:a?Object(p.jsx)(a,{...e}):i?i(e):null})})})),Object(p.jsx)(l.b,{path:"/",render:()=>Object(p.jsx)(l.a,{to:"/shows/1955"})})]})})]})};var pe=a(160),ve=a(82),Oe=a(159);class fe extends n.Component{constructor(e){super(e),this.state={isDark:!0}}render(){const e=Object(ve.a)({palette:{type:this.state.isDark?"dark":"light"}});return Object(p.jsxs)(Oe.a,{theme:e,children:[Object(p.jsx)(pe.a,{}),Object(p.jsx)(h.a,{children:Object(p.jsx)(he,{toggleDarkTheme:()=>{this.setState({isDark:!this.state.isDark})}})})]})}}c.a.render(Object(p.jsx)(i.a.StrictMode,{children:Object(p.jsx)(fe,{})}),document.getElementById("root"))},93:function(e,t,a){}},[[121,1,2]]]);
//# sourceMappingURL=main.c9666868.chunk.js.map